webpackJsonp([0],{4:function(t,n,e){"use strict";(function(t,o){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),c=e(40),l=i(c),f=e(44),d=i(f),h=e(47),p=i(h),v=e(46),m=i(v),y=function(n){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,n),s(e,[{key:"start",value:function(){this.addEnvAudio(m.default),this.addPanorama(1e3,p.default),this.addButton({index:1,text:"Goto Page1!",callback:function(){t.forward("1")}}),this.addButton({index:2,text:"Goto Page2!",callback:function(){t.forward("2")}}),this.addDirectLight()}},{key:"loaded",value:function(){this.envSound.play()}},{key:"addPanorama",value:function(n,e){var i=new o.SphereGeometry(n,50,50),r=new o.MeshBasicMaterial({map:(new o.TextureLoader).load(e),side:o.BackSide}),a=new o.Mesh(i,r);return t.Scene.add(a),a}},{key:"addEnvAudio",value:function(n){var e=this;this.envSound=new o.Audio(t.AudioListener),t.Scene.add(this.envSound),(new o.AudioLoader).load(n,function(t){e.envSound.setBuffer(t),e.envSound.setLoop(!0)})}},{key:"addDirectLight",value:function(){t.Scene.add(new o.AmbientLight(16777215));var n=new o.DirectionalLight(16777215,.3);return n.position.set(50,50,50),n.castShadow=!0,n.shadow.mapSize.width=2048,n.shadow.mapSize.height=512,n.shadow.camera.near=100,n.shadow.camera.far=1200,n.shadow.camera.left=-1e3,n.shadow.camera.right=1e3,n.shadow.camera.top=350,n.shadow.camera.bottom=-350,t.Scene.add(n),n}},{key:"getTexture",value:function(t,n){var e=document.createElement("canvas");e.width=400,e.height=300;var i=e.getContext("2d");i.fillStyle="#000000",i.fillRect(0,0,400,400),i.fillStyle="#00aadd",i.font=n+"px Arial",i.textAlign="center",i.textBaseline="middle",i.fillText(t,200,150);var r=new o.Texture(e);return r.needsUpdate=!0,r}},{key:"addButton",value:function(n){var e=n.text,i=n.index,r=(n.fontSize,n.callback),a=void 0===r?function(){}:r,u={hover:5,camera:t.Camera,radius:25,angle:Math.PI/6*i,width:10,height:7.5},s=(Math.sin(u.angle),Math.cos(u.angle),new o.PlaneGeometry(u.width,u.height)),c=new o.MeshBasicMaterial({map:this.getTexture(e,32),opacity:.75,transparent:!0}),l=new o.Mesh(s,c),f=u.camera.position.x,h=u.camera.position.y,p=u.camera.position.z,v=u.radius*Math.sin(u.angle),m=u.radius*Math.cos(u.angle);l.position.set(f+v,h,p-m),l.rotation.y=-u.angle;var y=new d.default.Tween(t.CrossHair.scale).to({x:.2,y:.2,z:.2},1500).easing(d.default.Easing.Sinusoidal.InOut).onComplete(function(){a()}),g=new d.default.Tween(t.CrossHair.scale).to({x:1,y:1,z:1},200).easing(d.default.Easing.Sinusoidal.InOut);t.Scene.add(l),l.on("gaze",function(t){l.scale.set(1.2,1.2,1.2),g.stop(),y.start()},function(t){l.scale.set(1,1,1),y.stop(),g.start()})}},{key:"update",value:function(){d.default.update()}}]),e}(l.default);n.default=y}).call(n,e(9),e(3))},40:function(t,n,e){"use strict";(function(t,o){function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),a=e(41),u=function(t){return t&&t.__esModule?t:{default:t}}(a),s=function(){function n(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,n),this.initPage()}return r(n,[{key:"initPage",value:function(){this.loadPage(),this.start()}},{key:"loadPage",value:function(){var n=this,e=!0;this.loadControl=new u.default,t.Display&&t.Display.isPresenting&&this.loadControl.doubleDom(),t.LoadingManager=o.DefaultLoadingManager,t.LoadingManager.onProgress=function(o,i,r){e&&(t.LoaderCount=r-t.LoaderCount),e=!1,n.loadControl.hasAnimate()||n.loadControl.initAnimate(t.LoaderCount),n.loadControl.loadItem()},t.LoadingManager.onLoad=function(){n.loadControl.loadedAll(),setTimeout(function(){n.loaded(),t.renderStart(n.update.bind(n))},100),console.log("finish")}}},{key:"start",value:function(){}},{key:"loaded",value:function(){}},{key:"update",value:function(){}}]),n}();n.default=s}).call(n,e(9),e(3))},41:function(t,n,e){"use strict";function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}();e(42);var r=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:37.5;o(this,t),this.radius=n,this.animate=!1,this.initDom()}return i(t,[{key:"initDom",value:function(){var n=t.Dom(this.radius),e=document.createDocumentFragment();this.dom=document.createElement("section"),this.dom.className+="load-control",this.dom.innerHTML=n,e.appendChild(this.dom),this.cricle=e.querySelectorAll("circle"),this.loadDom=e.querySelectorAll("svg"),this.cloneDom=this.loadDom[1],this.singleDom(),document.body.appendChild(e)}},{key:"singleDom",value:function(){this.cloneDom.style.display="none"}},{key:"doubleDom",value:function(){this.cloneDom.style.display="block"}},{key:"hasAnimate",value:function(){return this.animate}},{key:"initAnimate",value:function(t){var n=this;if("number"!=typeof t||t<=0)return!1;this.animate=!0,this.loadDataset={count:t,rest:t,cricleLength:2*this.radius*Math.PI,offest:0,unloadLength:0},Array.from(this.cricle).forEach(function(t){t.style.strokeDasharray=n.loadDataset.cricleLength+" "+n.loadDataset.cricleLength,t.style.strokeDashoffset=n.loadDataset.cricleLength,t.style.display="inline-block"}),this.loadDataset.unloadLength=this.loadDataset.cricleLength,this.loadDataset.offest=1/this.loadDataset.count*this.loadDataset.cricleLength}},{key:"loadItem",value:function(){var t=this.loadDataset.unloadLength-=this.loadDataset.offest;return Array.from(this.cricle).forEach(function(n){n.style.transition="none",n.style.transition="stroke-dashoffset 1s",n.style.strokeDashoffset=t}),--this.loadDataset.rest}},{key:"loadedAll",value:function(){var t=this;this.dom.className+=" loaded",this.dom.addEventListener("webkitTransitionEnd",function(n){t.clear()}),this.dom.addEventListener("transitionend",function(n){t.clear()})}},{key:"clear",value:function(){this.dom.remove()}}],[{key:"Dom",value:function(t){return('<svg class="svg-load">\n\t\t\t\t\t\t<circle cx="50%" cy="50%" r="'+t+'"></circle>   \n\t\t\t\t\t\t<text x="50%" y="50%" text-anchor="middle" dominant-baseline="central">Loading</text>\n\t\t\t\t\t</svg>').repeat(2)}}]),t}();n.default=r},42:function(t,n,e){var o=e(43);"string"==typeof o&&(o=[[t.i,o,""]]);e(39)(o,{});o.locals&&(t.exports=o.locals)},43:function(t,n,e){n=t.exports=e(38)(),n.push([t.i,".load-control{transition:opacity 1s 1s;position:absolute;left:0;right:0;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#333;z-index:1000}.svg-load{width:150px;height:150px}.svg-load circle{fill:none;stroke:#0ad;stroke-width:2px;display:none}.svg-load text{fill:#fff;font-size:12px}.loaded{opacity:0}","",{version:3,sources:["/Users/chenyuhong508/Documents/VR/project/webvr-webpack2-boilerplate/src/core/css/load-control.css"],names:[],mappings:"AAAA,cACC,yBAA0B,kBACP,OACX,QACC,MACF,SACG,oBACV,oBAAA,aAAc,yBACd,6BAA8B,yBAC9B,sBAAA,mBAAoB,sBACG,YACT,CACd,UAEA,YAAa,YACC,CACd,iBAEC,UAAW,YACK,iBACE,YACJ,CACd,eAEA,UAAW,cACI,CACf,QAED,SAAW,CACX",file:"load-control.css",sourcesContent:[".load-control {\n\ttransition: opacity 1s 1s;\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tbackground-color: #333;\n\tz-index: 1000;\n}\n.svg-load {\n\twidth: 150px;\n\theight: 150px;     \n}\n.svg-load circle {\n\t\tfill: none;\n\t\tstroke: #00aadd;\n\t\tstroke-width: 2px;\n\t\tdisplay: none;\n\t}\n.svg-load text {\n\t\tfill: #fff;\n\t\tfont-size: 12px\n\t}\n.loaded {\n\topacity: 0;\n}"],sourceRoot:""}])},44:function(t,n,e){(function(e){var o,i,r=r||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(n){t.push(n)},remove:function(n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)},update:function(n,e){if(0===t.length)return!1;var o=0;for(n=void 0!==n?n:r.now();o<t.length;)t[o].update(n)||e?o++:t.splice(o,1);return!0}}}();"undefined"==typeof window&&void 0!==e?r.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?r.now=window.performance.now.bind(window.performance):void 0!==Date.now?r.now=Date.now:r.now=function(){return(new Date).getTime()},r.Tween=function(t){var n,e=t,o={},i={},a={},u=1e3,s=0,c=!1,l=!1,f=!1,d=0,h=null,p=r.Easing.Linear.None,v=r.Interpolation.Linear,m=[],y=null,g=!1,w=null,A=null,b=null;this.to=function(t,n){return i=t,void 0!==n&&(u=n),this},this.start=function(t){r.add(this),l=!0,g=!1,h=void 0!==t?t:r.now(),h+=d;for(var n in i){if(i[n]instanceof Array){if(0===i[n].length)continue;i[n]=[e[n]].concat(i[n])}void 0!==e[n]&&(o[n]=e[n],o[n]instanceof Array==!1&&(o[n]*=1),a[n]=o[n]||0)}return this},this.stop=function(){return l?(r.remove(this),l=!1,null!==b&&b.call(e,e),this.stopChainedTweens(),this):this},this.end=function(){return this.update(h+u),this},this.stopChainedTweens=function(){for(var t=0,n=m.length;t<n;t++)m[t].stop()},this.delay=function(t){return d=t,this},this.repeat=function(t){return s=t,this},this.repeatDelay=function(t){return n=t,this},this.yoyo=function(t){return c=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return v=t,this},this.chain=function(){return m=arguments,this},this.onStart=function(t){return y=t,this},this.onUpdate=function(t){return w=t,this},this.onComplete=function(t){return A=t,this},this.onStop=function(t){return b=t,this},this.update=function(t){var r,l,b;if(t<h)return!0;!1===g&&(null!==y&&y.call(e,e),g=!0),l=(t-h)/u,l=l>1?1:l,b=p(l);for(r in i)if(void 0!==o[r]){var C=o[r]||0,x=i[r];x instanceof Array?e[r]=v(x,b):("string"==typeof x&&(x="+"===x.charAt(0)||"-"===x.charAt(0)?C+parseFloat(x):parseFloat(x)),"number"==typeof x&&(e[r]=C+(x-C)*b))}if(null!==w&&w.call(e,b),1===l){if(s>0){isFinite(s)&&s--;for(r in a){if("string"==typeof i[r]&&(a[r]=a[r]+parseFloat(i[r])),c){var M=a[r];a[r]=i[r],i[r]=M}o[r]=a[r]}return c&&(f=!f),h=void 0!==n?t+n:t+d,!0}null!==A&&A.call(e,e);for(var k=0,D=m.length;k<D;k++)m[k].start(h+u);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,n){var e=t.length-1,o=e*n,i=Math.floor(o),a=r.Interpolation.Utils.Linear;return n<0?a(t[0],t[1],o):n>1?a(t[e],t[e-1],e-o):a(t[i],t[i+1>e?e:i+1],o-i)},Bezier:function(t,n){for(var e=0,o=t.length-1,i=Math.pow,a=r.Interpolation.Utils.Bernstein,u=0;u<=o;u++)e+=i(1-n,o-u)*i(n,u)*t[u]*a(o,u);return e},CatmullRom:function(t,n){var e=t.length-1,o=e*n,i=Math.floor(o),a=r.Interpolation.Utils.CatmullRom;return t[0]===t[e]?(n<0&&(i=Math.floor(o=e*(1+n))),a(t[(i-1+e)%e],t[i],t[(i+1)%e],t[(i+2)%e],o-i)):n<0?t[0]-(a(t[0],t[0],t[1],t[1],-o)-t[0]):n>1?t[e]-(a(t[e],t[e],t[e-1],t[e-1],o-e)-t[e]):a(t[i?i-1:0],t[i],t[e<i+1?e:i+1],t[e<i+2?e:i+2],o-i)},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=r.Interpolation.Utils.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var t=[1];return function(n){var e=1;if(t[n])return t[n];for(var o=n;o>1;o--)e*=o;return t[n]=e,e}}(),CatmullRom:function(t,n,e,o,i){var r=.5*(e-t),a=.5*(o-n),u=i*i;return(2*n-2*e+r+a)*(i*u)+(-3*n+3*e-2*r-a)*u+r*i+n}}},function(e){o=[],void 0!==(i=function(){return r}.apply(n,o))&&(t.exports=i)}()}).call(n,e(45))},45:function(t,n){function e(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===e||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(n){try{return l.call(null,t,0)}catch(n){return l.call(this,t,0)}}}function r(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(n){try{return f.call(null,t)}catch(n){return f.call(this,t)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):m=-1,p.length&&u())}function u(){if(!v){var t=i(a);v=!0;for(var n=p.length;n;){for(h=p,p=[];++m<n;)h&&h[m].run();m=-1,n=p.length}h=null,v=!1,r(t)}}function s(t,n){this.fun=t,this.array=n}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:e}catch(t){l=e}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var h,p=[],v=!1,m=-1;d.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];p.push(new s(t,n)),1!==p.length||v||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},46:function(t,n,e){t.exports=e.p+"99ae0ae8b2505d18491398ad0ffc32e3.wav"},47:function(t,n,e){t.exports=e.p+"25314afeadf649f14dd0571bbd4d62a5.jpg"}});