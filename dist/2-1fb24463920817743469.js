webpackJsonp([2],{120:function(t,n,e){"use strict";(function(t,o){function a(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),l=e(314),c=a(l),f=e(318),d=a(f),h=e(326),p=a(h),v=e(319),m=a(v),y=function(n){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,n),s(e,[{key:"start",value:function(){this.addEnvAudio(m.default),this.addPanorama(1e3,p.default),this.addButton({index:1,text:"Goto Page1!",callback:function(){t.forward("1")}}),this.addButton({index:2,text:"Goto Page2!",callback:function(){t.forward("2")}}),this.addDirectLight()}},{key:"loaded",value:function(){this.envSound.play()}},{key:"addPanorama",value:function(n,e){var a=new o.SphereGeometry(n,50,50),i=new o.MeshBasicMaterial({map:(new o.TextureLoader).load(e),side:o.BackSide}),r=new o.Mesh(a,i);return t.Scene.add(r),r}},{key:"addEnvAudio",value:function(n){var e=this;this.envSound=new o.Audio(t.AudioListener),t.Scene.add(this.envSound);var a=new o.AudioLoader;a.load(n,function(t){e.envSound.setBuffer(t),e.envSound.setLoop(!0)})}},{key:"addDirectLight",value:function(){t.Scene.add(new o.AmbientLight(16777215));var n=new o.DirectionalLight(16777215,.3);return n.position.set(50,50,50),n.castShadow=!0,n.shadow.mapSize.width=2048,n.shadow.mapSize.height=512,n.shadow.camera.near=100,n.shadow.camera.far=1200,n.shadow.camera.left=-1e3,n.shadow.camera.right=1e3,n.shadow.camera.top=350,n.shadow.camera.bottom=-350,t.Scene.add(n),n}},{key:"getTexture",value:function(t,n){var e=400,a=300,i=document.createElement("canvas");i.width=e,i.height=a;var r=i.getContext("2d");r.fillStyle="#000000",r.fillRect(0,0,e,e),r.fillStyle="#00aadd",r.font=n+"px Arial",r.textAlign="center",r.textBaseline="middle",r.fillText(t,e/2,a/2);var u=new o.Texture(i);return u.needsUpdate=!0,u}},{key:"addButton",value:function(n){var e=n.text,a=n.index,i=(n.fontSize,n.callback),r=void 0===i?function(){}:i,u={hover:5,camera:t.Camera,radius:25,angle:Math.PI/6*a,width:10,height:7.5},s=(u.hover*Math.sin(u.angle),u.hover*Math.cos(u.angle),new o.PlaneGeometry(u.width,u.height)),l=new o.MeshBasicMaterial({map:this.getTexture(e,32),opacity:.75,transparent:!0}),c=new o.Mesh(s,l),f=u.camera.position.x,h=u.camera.position.y,p=u.camera.position.z,v=u.radius*Math.sin(u.angle),m=u.radius*Math.cos(u.angle);c.position.set(f+v,h,p-m),c.rotation.y=-u.angle;var y=new d.default.Tween(t.CrossHair.scale).to({x:.2,y:.2,z:.2},1500).easing(d.default.Easing.Sinusoidal.InOut).onComplete(function(){r()}),g=new d.default.Tween(t.CrossHair.scale).to({x:1,y:1,z:1},200).easing(d.default.Easing.Sinusoidal.InOut);t.Scene.add(c),c.on("gaze",function(t){c.scale.set(1.2,1.2,1.2),g.stop(),y.start()},function(t){c.scale.set(1,1,1),y.stop(),g.start()})}},{key:"update",value:function(){d.default.update()}}]),e}(c.default);n.default=y}).call(n,e(86),e(45))},314:function(t,n,e){"use strict";(function(t,o){function a(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),u=e(315),s=a(u),l=function(){function n(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,n),this.initPage()}return r(n,[{key:"initPage",value:function(){this.loadPage(),this.start()}},{key:"loadPage",value:function(){var n=this,e=!0;this.loadControl=new s.default,3===t.Manager.mode&&this.loadControl.doubleDom(),t.LoadingManager=o.DefaultLoadingManager,t.LoadingManager.onProgress=function(o,a,i){e&&(t.LoaderCount=i-t.LoaderCount),e=!1,n.loadControl.hasAnimate()||n.loadControl.initAnimate(t.LoaderCount),n.loadControl.loadItem()},t.LoadingManager.onLoad=function(){n.loadControl.loadedAll(),setTimeout(function(){n.loaded(),t.renderStart(n.update)},100),console.log("finish")}}},{key:"start",value:function(){}},{key:"loaded",value:function(){}},{key:"update",value:function(t){}}]),n}();n.default=l}).call(n,e(86),e(45))},315:function(t,n,e){"use strict";function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}();e(317);var i=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:37.5;o(this,t),this.radius=n,this.animate=!1,this.initDom()}return a(t,[{key:"initDom",value:function(){var n=t.Dom(this.radius),e=document.createDocumentFragment();this.dom=document.createElement("section"),this.dom.className+="load-control",this.dom.innerHTML=n,e.appendChild(this.dom),this.cricle=e.querySelectorAll("circle"),this.loadDom=e.querySelectorAll("svg"),this.cloneDom=this.loadDom[1],this.singleDom(),document.body.appendChild(e)}},{key:"singleDom",value:function(){this.cloneDom.style.display="none"}},{key:"doubleDom",value:function(){this.cloneDom.style.display="block"}},{key:"hasAnimate",value:function(){return this.animate}},{key:"initAnimate",value:function(t){var n=this;return!("number"!=typeof t||t<=0)&&(this.animate=!0,this.loadDataset={count:t,rest:t,cricleLength:2*this.radius*Math.PI,offest:0,unloadLength:0},Array.from(this.cricle).forEach(function(t){t.style.strokeDasharray=n.loadDataset.cricleLength+" "+n.loadDataset.cricleLength,t.style.strokeDashoffset=n.loadDataset.cricleLength,t.style.display="inline-block"}),this.loadDataset.unloadLength=this.loadDataset.cricleLength,void(this.loadDataset.offest=1/this.loadDataset.count*this.loadDataset.cricleLength))}},{key:"loadItem",value:function(){var t=this.loadDataset.unloadLength-=this.loadDataset.offest;return Array.from(this.cricle).forEach(function(n){n.style.transition="none",n.style.transition="stroke-dashoffset 1s",n.style.strokeDashoffset=t}),--this.loadDataset.rest}},{key:"loadedAll",value:function(){var t=this;this.dom.className+=" loaded",this.dom.addEventListener("webkitTransitionEnd",function(n){t.clear()}),this.dom.addEventListener("transitionend",function(n){t.clear()})}},{key:"clear",value:function(){this.dom.remove()}}],[{key:"Dom",value:function(t){return('<svg class="svg-load">\n\t\t\t\t\t\t<circle cx="50%" cy="50%" r="'+t+'"></circle>   \n\t\t\t\t\t\t<text x="50%" y="50%" text-anchor="middle" dominant-baseline="central">Loading</text>\n\t\t\t\t\t</svg>').repeat(2)}}]),t}();n.default=i},316:function(t,n,e){n=t.exports=e(312)(),n.push([t.i,".load-control{-webkit-transition:opacity 1s 1s;transition:opacity 1s 1s;position:absolute;left:0;right:0;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#333;z-index:1}.svg-load{width:150px;height:150px}.svg-load circle{fill:none;stroke:#0ad;stroke-width:2px;display:none;//:rotate(-90deg);//:50%}.svg-load text{fill:#fff;font-size:12px}.loaded{opacity:0}","",{version:3,sources:["/./src/common/css/load-control.css"],names:[],mappings:"AAAA,cACC,iCAAA,yBAA0B,kBACP,OACX,QACC,MACF,SACG,oBACV,oBAAA,aAAc,yBACd,6BAA8B,yBAC9B,sBAAA,mBAAoB,sBACG,SACR,CACf,UAEA,YAAa,YACC,CACd,iBAEC,UAAW,YACK,iBACE,aACJ,kBACe,MACD,CAC5B,eAEA,UAAW,cACI,CACf,QAED,SAAW,CACX",file:"load-control.css",sourcesContent:[".load-control {\n\ttransition: opacity 1s 1s;\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tbackground-color: #333;\n\tz-index: 10000;\n}\n.svg-load {\n\twidth: 150px;\n\theight: 150px;     \n}\n.svg-load circle {\n\t\tfill: none;\n\t\tstroke: #00aadd;\n\t\tstroke-width: 2px;\n\t\tdisplay: none;\n\t\t// transform: rotate(-90deg);\n  //   \ttransform-origin: 50%;\n\t}\n.svg-load text {\n\t\tfill: #fff;\n\t\tfont-size: 12px\n\t}\n.loaded {\n\topacity: 0;\n}"],sourceRoot:"webpack://"}])},317:function(t,n,e){var o=e(316);"string"==typeof o&&(o=[[t.i,o,""]]);e(313)(o,{});o.locals&&(t.exports=o.locals)},318:function(t,n,e){(function(e){var o,a,i=i||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(n){t.push(n)},remove:function(n){var e=t.indexOf(n);e!==-1&&t.splice(e,1)},update:function(n,e){if(0===t.length)return!1;var o=0;for(n=void 0!==n?n:i.now();o<t.length;)t[o].update(n)||e?o++:t.splice(o,1);return!0}}}();"undefined"==typeof window&&"undefined"!=typeof e?i.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?i.now=window.performance.now.bind(window.performance):void 0!==Date.now?i.now=Date.now:i.now=function(){return(new Date).getTime()},i.Tween=function(t){var n,e=t,o={},a={},r={},u=1e3,s=0,l=!1,c=!1,f=!1,d=0,h=null,p=i.Easing.Linear.None,v=i.Interpolation.Linear,m=[],y=null,g=!1,w=null,A=null,b=null;this.to=function(t,n){return a=t,void 0!==n&&(u=n),this},this.start=function(t){i.add(this),c=!0,g=!1,h=void 0!==t?t:i.now(),h+=d;for(var n in a){if(a[n]instanceof Array){if(0===a[n].length)continue;a[n]=[e[n]].concat(a[n])}void 0!==e[n]&&(o[n]=e[n],o[n]instanceof Array==!1&&(o[n]*=1),r[n]=o[n]||0)}return this},this.stop=function(){return c?(i.remove(this),c=!1,null!==b&&b.call(e,e),this.stopChainedTweens(),this):this},this.end=function(){return this.update(h+u),this},this.stopChainedTweens=function(){for(var t=0,n=m.length;t<n;t++)m[t].stop()},this.delay=function(t){return d=t,this},this.repeat=function(t){return s=t,this},this.repeatDelay=function(t){return n=t,this},this.yoyo=function(t){return l=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return v=t,this},this.chain=function(){return m=arguments,this},this.onStart=function(t){return y=t,this},this.onUpdate=function(t){return w=t,this},this.onComplete=function(t){return A=t,this},this.onStop=function(t){return b=t,this},this.update=function(t){var i,c,b;if(t<h)return!0;g===!1&&(null!==y&&y.call(e,e),g=!0),c=(t-h)/u,c=c>1?1:c,b=p(c);for(i in a)if(void 0!==o[i]){var C=o[i]||0,M=a[i];M instanceof Array?e[i]=v(M,b):("string"==typeof M&&(M="+"===M.charAt(0)||"-"===M.charAt(0)?C+parseFloat(M):parseFloat(M)),"number"==typeof M&&(e[i]=C+(M-C)*b))}if(null!==w&&w.call(e,b),1===c){if(s>0){isFinite(s)&&s--;for(i in r){if("string"==typeof a[i]&&(r[i]=r[i]+parseFloat(a[i])),l){var k=r[i];r[i]=a[i],a[i]=k}o[i]=r[i]}return l&&(f=!f),h=void 0!==n?t+n:t+d,!0}null!==A&&A.call(e,e);for(var x=0,I=m.length;x<I;x++)m[x].start(h+u);return!1}return!0}},i.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-i.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*i.Easing.Bounce.In(2*t):.5*i.Easing.Bounce.Out(2*t-1)+.5}}},i.Interpolation={Linear:function(t,n){var e=t.length-1,o=e*n,a=Math.floor(o),r=i.Interpolation.Utils.Linear;return n<0?r(t[0],t[1],o):n>1?r(t[e],t[e-1],e-o):r(t[a],t[a+1>e?e:a+1],o-a)},Bezier:function(t,n){for(var e=0,o=t.length-1,a=Math.pow,r=i.Interpolation.Utils.Bernstein,u=0;u<=o;u++)e+=a(1-n,o-u)*a(n,u)*t[u]*r(o,u);return e},CatmullRom:function(t,n){var e=t.length-1,o=e*n,a=Math.floor(o),r=i.Interpolation.Utils.CatmullRom;return t[0]===t[e]?(n<0&&(a=Math.floor(o=e*(1+n))),r(t[(a-1+e)%e],t[a],t[(a+1)%e],t[(a+2)%e],o-a)):n<0?t[0]-(r(t[0],t[0],t[1],t[1],-o)-t[0]):n>1?t[e]-(r(t[e],t[e],t[e-1],t[e-1],o-e)-t[e]):r(t[a?a-1:0],t[a],t[e<a+1?e:a+1],t[e<a+2?e:a+2],o-a)},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=i.Interpolation.Utils.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var t=[1];return function(n){var e=1;if(t[n])return t[n];for(var o=n;o>1;o--)e*=o;return t[n]=e,e}}(),CatmullRom:function(t,n,e,o,a){var i=.5*(e-t),r=.5*(o-n),u=a*a,s=a*u;return(2*n-2*e+i+r)*s+(-3*n+3*e-2*i-r)*u+i*a+n}}},function(e){o=[],a=function(){return i}.apply(n,o),!(void 0!==a&&(t.exports=a))}(this)}).call(n,e(119))},319:function(t,n,e){t.exports=e.p+"99ae0ae8b2505d18491398ad0ffc32e3.wav"},326:function(t,n,e){t.exports=e.p+"25314afeadf649f14dd0571bbd4d62a5.jpg"}});