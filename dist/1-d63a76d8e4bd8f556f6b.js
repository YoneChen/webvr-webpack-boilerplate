webpackJsonp([1],{10:function(t,e,n){"use strict";(function(t,r){function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(40),c=i(l),h=n(44),f=i(h),d=n(48),p=i(d),m=n(49),v=i(m),g=n(50),y=i(g);n(51),n(52);var b=function(e){function n(){return a(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,e),u(n,[{key:"start",value:function(){this.addPanorama(1e3,p.default),this.addBallon(),this.addDirectLight()}},{key:"loaded",value:function(){}},{key:"addPanorama",value:function(e,n){var i=new t.SphereGeometry(e,50,50),a=new t.MeshBasicMaterial({map:(new t.TextureLoader).load(n),side:t.BackSide}),o=new t.Mesh(i,a);return r.Scene.add(o),o}},{key:"addDirectLight",value:function(){r.Scene.add(new t.AmbientLight(14540253));var e=new t.DirectionalLight(14540236,.3);return e.position.set(100,100,100),e.castShadow=!0,e.shadow.mapSize.width=2048,e.shadow.mapSize.height=512,e.shadow.camera.near=50,e.shadow.camera.far=500,e.shadow.camera.left=-500,e.shadow.camera.right=500,e.shadow.camera.top=150,e.shadow.camera.bottom=-150,r.Scene.add(e),e}},{key:"addBallon",value:function(){(new t.MTLLoader).load(y.default,function(e){e.preload();var n=new t.OBJLoader;n.setMaterials(e),n.load(v.default,function(t){t.position.set(20,20,-100),t.scale.set(.1,.1,.1);var e=t.position,n=e.x,i=e.y,a=(e.z,new f.default.Tween(t.position).to({x:n-100,y:i+200,z:0},1e4).easing(f.default.Easing.Sinusoidal.InOut));t.on("gaze",function(t){a.start()}),r.Scene.add(t)})})}},{key:"update",value:function(){f.default.update()}}]),n}(c.default);e.default=b}).call(e,n(3),n(9))},40:function(t,e,n){"use strict";(function(t,r){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(41),s=function(t){return t&&t.__esModule?t:{default:t}}(o),u=function(){function e(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,e),this.initPage()}return a(e,[{key:"initPage",value:function(){this.loadPage(),this.start()}},{key:"loadPage",value:function(){var e=this,n=!0;this.loadControl=new s.default,t.Display&&t.Display.isPresenting&&this.loadControl.doubleDom(),t.LoadingManager=r.DefaultLoadingManager,t.LoadingManager.onProgress=function(r,i,a){n&&(t.LoaderCount=a-t.LoaderCount),n=!1,e.loadControl.hasAnimate()||e.loadControl.initAnimate(t.LoaderCount),e.loadControl.loadItem()},t.LoadingManager.onLoad=function(){e.loadControl.loadedAll(),setTimeout(function(){e.loaded(),t.renderStart(e.update.bind(e))},100),console.log("finish")}}},{key:"start",value:function(){}},{key:"loaded",value:function(){}},{key:"update",value:function(){}}]),e}();e.default=u}).call(e,n(9),n(3))},41:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(42);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:37.5;r(this,t),this.radius=e,this.animate=!1,this.initDom()}return i(t,[{key:"initDom",value:function(){var e=t.Dom(this.radius),n=document.createDocumentFragment();this.dom=document.createElement("section"),this.dom.className+="load-control",this.dom.innerHTML=e,n.appendChild(this.dom),this.cricle=n.querySelectorAll("circle"),this.loadDom=n.querySelectorAll("svg"),this.cloneDom=this.loadDom[1],this.singleDom(),document.body.appendChild(n)}},{key:"singleDom",value:function(){this.cloneDom.style.display="none"}},{key:"doubleDom",value:function(){this.cloneDom.style.display="block"}},{key:"hasAnimate",value:function(){return this.animate}},{key:"initAnimate",value:function(t){var e=this;if("number"!=typeof t||t<=0)return!1;this.animate=!0,this.loadDataset={count:t,rest:t,cricleLength:2*this.radius*Math.PI,offest:0,unloadLength:0},Array.from(this.cricle).forEach(function(t){t.style.strokeDasharray=e.loadDataset.cricleLength+" "+e.loadDataset.cricleLength,t.style.strokeDashoffset=e.loadDataset.cricleLength,t.style.display="inline-block"}),this.loadDataset.unloadLength=this.loadDataset.cricleLength,this.loadDataset.offest=1/this.loadDataset.count*this.loadDataset.cricleLength}},{key:"loadItem",value:function(){var t=this.loadDataset.unloadLength-=this.loadDataset.offest;return Array.from(this.cricle).forEach(function(e){e.style.transition="none",e.style.transition="stroke-dashoffset 1s",e.style.strokeDashoffset=t}),--this.loadDataset.rest}},{key:"loadedAll",value:function(){var t=this;this.dom.className+=" loaded",this.dom.addEventListener("webkitTransitionEnd",function(e){t.clear()}),this.dom.addEventListener("transitionend",function(e){t.clear()})}},{key:"clear",value:function(){this.dom.remove()}}],[{key:"Dom",value:function(t){return('<svg class="svg-load">\n\t\t\t\t\t\t<circle cx="50%" cy="50%" r="'+t+'"></circle>   \n\t\t\t\t\t\t<text x="50%" y="50%" text-anchor="middle" dominant-baseline="central">Loading</text>\n\t\t\t\t\t</svg>').repeat(2)}}]),t}();e.default=a},42:function(t,e,n){var r=n(43);"string"==typeof r&&(r=[[t.i,r,""]]);n(39)(r,{});r.locals&&(t.exports=r.locals)},43:function(t,e,n){e=t.exports=n(38)(),e.push([t.i,".load-control{transition:opacity 1s 1s;position:absolute;left:0;right:0;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#333;z-index:1000}.svg-load{width:150px;height:150px}.svg-load circle{fill:none;stroke:#0ad;stroke-width:2px;display:none}.svg-load text{fill:#fff;font-size:12px}.loaded{opacity:0}","",{version:3,sources:["/Users/chenyuhong508/Documents/VR/project/webvr-webpack2-boilerplate/src/core/css/load-control.css"],names:[],mappings:"AAAA,cACC,yBAA0B,kBACP,OACX,QACC,MACF,SACG,oBACV,oBAAA,aAAc,yBACd,6BAA8B,yBAC9B,sBAAA,mBAAoB,sBACG,YACT,CACd,UAEA,YAAa,YACC,CACd,iBAEC,UAAW,YACK,iBACE,YACJ,CACd,eAEA,UAAW,cACI,CACf,QAED,SAAW,CACX",file:"load-control.css",sourcesContent:[".load-control {\n\ttransition: opacity 1s 1s;\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tbackground-color: #333;\n\tz-index: 1000;\n}\n.svg-load {\n\twidth: 150px;\n\theight: 150px;     \n}\n.svg-load circle {\n\t\tfill: none;\n\t\tstroke: #00aadd;\n\t\tstroke-width: 2px;\n\t\tdisplay: none;\n\t}\n.svg-load text {\n\t\tfill: #fff;\n\t\tfont-size: 12px\n\t}\n.loaded {\n\topacity: 0;\n}"],sourceRoot:""}])},44:function(t,e,n){(function(n){var r,i,a=a||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},update:function(e,n){if(0===t.length)return!1;var r=0;for(e=void 0!==e?e:a.now();r<t.length;)t[r].update(e)||n?r++:t.splice(r,1);return!0}}}();"undefined"==typeof window&&void 0!==n?a.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?a.now=window.performance.now.bind(window.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(t){var e,n=t,r={},i={},o={},s=1e3,u=0,l=!1,c=!1,h=!1,f=0,d=null,p=a.Easing.Linear.None,m=a.Interpolation.Linear,v=[],g=null,y=!1,b=null,w=null,x=null;this.to=function(t,e){return i=t,void 0!==e&&(s=e),this},this.start=function(t){a.add(this),c=!0,y=!1,d=void 0!==t?t:a.now(),d+=f;for(var e in i){if(i[e]instanceof Array){if(0===i[e].length)continue;i[e]=[n[e]].concat(i[e])}void 0!==n[e]&&(r[e]=n[e],r[e]instanceof Array==!1&&(r[e]*=1),o[e]=r[e]||0)}return this},this.stop=function(){return c?(a.remove(this),c=!1,null!==x&&x.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(d+s),this},this.stopChainedTweens=function(){for(var t=0,e=v.length;t<e;t++)v[t].stop()},this.delay=function(t){return f=t,this},this.repeat=function(t){return u=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return l=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return m=t,this},this.chain=function(){return v=arguments,this},this.onStart=function(t){return g=t,this},this.onUpdate=function(t){return b=t,this},this.onComplete=function(t){return w=t,this},this.onStop=function(t){return x=t,this},this.update=function(t){var a,c,x;if(t<d)return!0;!1===y&&(null!==g&&g.call(n,n),y=!0),c=(t-d)/s,c=c>1?1:c,x=p(c);for(a in i)if(void 0!==r[a]){var A=r[a]||0,L=i[a];L instanceof Array?n[a]=m(L,x):("string"==typeof L&&(L="+"===L.charAt(0)||"-"===L.charAt(0)?A+parseFloat(L):parseFloat(L)),"number"==typeof L&&(n[a]=A+(L-A)*x))}if(null!==b&&b.call(n,x),1===c){if(u>0){isFinite(u)&&u--;for(a in o){if("string"==typeof i[a]&&(o[a]=o[a]+parseFloat(i[a])),l){var M=o[a];o[a]=i[a],i[a]=M}r[a]=o[a]}return l&&(h=!h),d=void 0!==e?t+e:t+f,!0}null!==w&&w.call(n,n);for(var C=0,O=v.length;C<O;C++)v[C].start(d+s);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=a.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-e,r-s)*i(e,s)*t[s]*o(r,s);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var a=.5*(n-t),o=.5*(r-e),s=i*i;return(2*e-2*n+a+o)*(i*s)+(-3*e+3*n-2*a-o)*s+a*i+e}}},function(n){r=[],void 0!==(i=function(){return a}.apply(e,r))&&(t.exports=i)}()}).call(e,n(45))},45:function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){m&&d&&(m=!1,d.length?p=d.concat(p):v=-1,p.length&&s())}function s(){if(!m){var t=i(o);m=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,m=!1,a(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],m=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},48:function(t,e,n){t.exports=n.p+"85f02261ff6efd802e7348db41842fe2.jpg"},49:function(t,e,n){t.exports=n.p+"e0a62b5153bfe26332cb1568584086ef.obj"},50:function(t,e,n){t.exports=n.p+"d2258f8915435dc461cab78efb10fbe6.mtl"},51:function(t,e,n){"use strict";(function(t){t.OBJLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},t.OBJLoader.prototype={constructor:t.OBJLoader,load:function(e,n,r,i){var a=this,o=new t.XHRLoader(a.manager);o.setPath(this.path),o.load(e,function(t){n(a.parse(t))},r,i)},setPath:function(t){this.path=t},setMaterials:function(t){this.materials=t},_createParserState:function(){var t={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},n&&n.name&&"function"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(n>=0?n-1:n+e/2)},addVertex:function(t,e,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addVertexLine:function(t){var e=this.vertices,n=this.object.geometry.vertices;n.push(e[t+0]),n.push(e[t+1]),n.push(e[t+2])},addNormal:function(t,e,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addUV:function(t,e,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[t+0]),i.push(r[t+1]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[n+0]),i.push(r[n+1])},addUVLine:function(t){var e=this.uvs,n=this.object.geometry.uvs;n.push(e[t+0]),n.push(e[t+1])},addFace:function(t,e,n,r,i,a,o,s,u,l,c,h){var f,d=this.vertices.length,p=this.parseVertexIndex(t,d),m=this.parseVertexIndex(e,d),v=this.parseVertexIndex(n,d);if(void 0===r?this.addVertex(p,m,v):(f=this.parseVertexIndex(r,d),this.addVertex(p,m,f),this.addVertex(m,v,f)),void 0!==i){var g=this.uvs.length;p=this.parseUVIndex(i,g),m=this.parseUVIndex(a,g),v=this.parseUVIndex(o,g),void 0===r?this.addUV(p,m,v):(f=this.parseUVIndex(s,g),this.addUV(p,m,f),this.addUV(m,v,f))}if(void 0!==u){var y=this.normals.length;p=this.parseNormalIndex(u,y),m=u===l?p:this.parseNormalIndex(l,y),v=u===c?p:this.parseNormalIndex(c,y),void 0===r?this.addNormal(p,m,v):(f=this.parseNormalIndex(h,y),this.addNormal(p,m,f),this.addNormal(m,v,f))}},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,a=t.length;i<a;i++)this.addVertexLine(this.parseVertexIndex(t[i],n));for(var o=0,a=e.length;o<a;o++)this.addUVLine(this.parseUVIndex(e[o],r))}};return t.startObject("",!1),t},parse:function(e){console.time("OBJLoader");var n=this._createParserState();-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var r=e.split("\n"),i="",a="",o="",s=[],u="function"==typeof"".trimLeft,l=0,c=r.length;l<c;l++)if(i=r[l],i=u?i.trimLeft():i.trim(),0!==i.length&&"#"!==(a=i.charAt(0)))if("v"===a)if(" "===(o=i.charAt(1))&&null!==(s=this.regexp.vertex_pattern.exec(i)))n.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else if("n"===o&&null!==(s=this.regexp.normal_pattern.exec(i)))n.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else{if("t"!==o||null===(s=this.regexp.uv_pattern.exec(i)))throw new Error("Unexpected vertex/normal/uv line: '"+i+"'");n.uvs.push(parseFloat(s[1]),parseFloat(s[2]))}else if("f"===a)if(null!==(s=this.regexp.face_vertex_uv_normal.exec(i)))n.addFace(s[1],s[4],s[7],s[10],s[2],s[5],s[8],s[11],s[3],s[6],s[9],s[12]);else if(null!==(s=this.regexp.face_vertex_uv.exec(i)))n.addFace(s[1],s[3],s[5],s[7],s[2],s[4],s[6],s[8]);else if(null!==(s=this.regexp.face_vertex_normal.exec(i)))n.addFace(s[1],s[3],s[5],s[7],void 0,void 0,void 0,void 0,s[2],s[4],s[6],s[8]);else{if(null===(s=this.regexp.face_vertex.exec(i)))throw new Error("Unexpected face line: '"+i+"'");n.addFace(s[1],s[2],s[3],s[4])}else if("l"===a){var h=i.substring(1).trim().split(" "),f=[],d=[];if(-1===i.indexOf("/"))f=h;else for(var p=0,m=h.length;p<m;p++){var v=h[p].split("/");""!==v[0]&&f.push(v[0]),""!==v[1]&&d.push(v[1])}n.addLineGeometry(f,d)}else if(null!==(s=this.regexp.object_pattern.exec(i))){var g=(" "+s[0].substr(1).trim()).substr(1);n.startObject(g)}else if(this.regexp.material_use_pattern.test(i))n.object.startMaterial(i.substring(7).trim(),n.materialLibraries);else if(this.regexp.material_library_pattern.test(i))n.materialLibraries.push(i.substring(7).trim());else{if(null===(s=this.regexp.smoothing_pattern.exec(i))){if("\0"===i)continue;throw new Error("Unexpected line: '"+i+"'")}var y=s[1].trim().toLowerCase();n.object.smooth="1"===y||"on"===y;var b=n.object.currentMaterial();b&&(b.smooth=n.object.smooth)}n.finalize();var w=new t.Group;w.materialLibraries=[].concat(n.materialLibraries);for(var l=0,c=n.objects.length;l<c;l++){var x=n.objects[l],A=x.geometry,L=x.materials,M="Line"===A.type;if(0!==A.vertices.length){var C=new t.BufferGeometry;C.addAttribute("position",new t.BufferAttribute(new Float32Array(A.vertices),3)),A.normals.length>0?C.addAttribute("normal",new t.BufferAttribute(new Float32Array(A.normals),3)):C.computeVertexNormals(),A.uvs.length>0&&C.addAttribute("uv",new t.BufferAttribute(new Float32Array(A.uvs),2));for(var O=[],k=0,I=L.length;k<I;k++){var _=L[k],b=void 0;if(null!==this.materials&&(b=this.materials.create(_.name),M&&b&&!(b instanceof t.LineBasicMaterial))){var j=new t.LineBasicMaterial;j.copy(b),b=j}b||(b=M?new t.LineBasicMaterial:new t.MeshPhongMaterial,b.name=_.name),b.shading=_.smooth?t.SmoothShading:t.FlatShading,O.push(b)}var T;if(O.length>1){for(var k=0,I=L.length;k<I;k++){var _=L[k];C.addGroup(_.groupStart,_.groupCount,k)}var E=new t.MultiMaterial(O);T=M?new t.LineSegments(C,E):new t.Mesh(C,E)}else T=M?new t.LineSegments(C,O[0]):new t.Mesh(C,O[0]);T.name=x.name,w.add(T)}}return console.timeEnd("OBJLoader"),w}}}).call(e,n(3))},52:function(t,e,n){"use strict";(function(t){t.MTLLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager},Object.assign(t.MTLLoader.prototype,t.EventDispatcher.prototype,{load:function(e,n,r,i){var a=this,o=new t.XHRLoader(this.manager);o.setPath(this.path),o.load(e,function(t){n(a.parse(t))},r,i)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(e){for(var n=e.split("\n"),r={},i=/\s+/,a={},o=0;o<n.length;o++){var s=n[o];if(s=s.trim(),0!==s.length&&"#"!==s.charAt(0)){var u=s.indexOf(" "),l=u>=0?s.substring(0,u):s;l=l.toLowerCase();var c=u>=0?s.substring(u+1):"";if(c=c.trim(),"newmtl"===l)r={name:c},a[c]=r;else if(r)if("ka"===l||"kd"===l||"ks"===l){var h=c.split(i,3);r[l]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else r[l]=c}}var f=new t.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return f.setCrossOrigin(this.crossOrigin),f.setManager(this.manager),f.setMaterials(a),f}}),t.MTLLoader.MaterialCreator=function(e,n){this.baseUrl=e||"",this.options=n,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:t.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:t.RepeatWrapping},t.MTLLoader.MaterialCreator.prototype={constructor:t.MTLLoader.MaterialCreator,setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var n in t){var r=t[n],i={};e[n]=i;for(var a in r){var o=!0,s=r[a],u=a.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(o=!1)}o&&(i[u]=s)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(e){function n(t,e){if(!a[t]){var n=r.getTextureParams(e,a),i=r.loadTexture(o(r.baseUrl,n.url));i.repeat.copy(n.scale),i.offset.copy(n.offset),i.wrapS=r.wrap,i.wrapT=r.wrap,a[t]=i}}var r=this,i=this.materialsInfo[e],a={name:e,side:this.side},o=function(t,e){return"string"!=typeof e||""===e?"":/^https?:\/\//i.test(e)?e:t+e};for(var s in i){var u=i[s];if(""!==u)switch(s.toLowerCase()){case"kd":a.color=(new t.Color).fromArray(u);break;case"ks":a.specular=(new t.Color).fromArray(u);break;case"map_kd":n("map",u);break;case"map_ks":n("specularMap",u);break;case"map_bump":case"bump":n("bumpMap",u);break;case"ns":a.shininess=parseFloat(u);break;case"d":u<1&&(a.opacity=u,a.transparent=!0);break;case"Tr":u>0&&(a.opacity=1-u,a.transparent=!0)}}return this.materials[e]=new t.MeshPhongMaterial(a),this.materials[e]},getTextureParams:function(e,n){var r,i={scale:new t.Vector2(1,1),offset:new t.Vector2(0,0)},a=e.split(/\s+/);return r=a.indexOf("-bm"),r>=0&&(n.bumpScale=parseFloat(a[r+1]),a.splice(r,2)),r=a.indexOf("-s"),r>=0&&(i.scale.set(parseFloat(a[r+1]),parseFloat(a[r+2])),a.splice(r,4)),r=a.indexOf("-o"),r>=0&&(i.offset.set(parseFloat(a[r+1]),parseFloat(a[r+2])),a.splice(r,4)),i.url=a.join(" ").trim(),i},loadTexture:function(e,n,r,i,a){var o,s=t.Loader.Handlers.get(e),u=void 0!==this.manager?this.manager:t.DefaultLoadingManager;return null===s&&(s=new t.TextureLoader(u)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),o=s.load(e,r,i,a),void 0!==n&&(o.mapping=n),o}}}).call(e,n(3))}});